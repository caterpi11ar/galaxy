# Galaxy é¡¹ç›®ç±»å‹è®¾è®¡è§„åˆ™

## æ ¸å¿ƒåŸåˆ™

### 1. ç±»å‹ä¼˜å…ˆæŸ¥æ‰¾è§„åˆ™ ğŸ”

**åœ¨åˆ›å»ºä»»ä½•æ–°ç±»å‹ä¹‹å‰ï¼Œå¿…é¡»æŒ‰ä»¥ä¸‹é¡ºåºæ£€æŸ¥ï¼š**

1. **æ£€æŸ¥ `src/types/` ç›®å½•**
   ```bash
   # æœç´¢ç›¸å…³ç±»å‹
   find src/types -name "*.ts" -exec grep -l "æ¥å£å" {} \;
   ```

2. **æ£€æŸ¥ç°æœ‰ç»„ä»¶å’Œ Hook**
   ```bash
   # æœç´¢ç°æœ‰ç±»å‹å®šä¹‰
   grep -r "interface.*æ¥å£å" src/
   ```

3. **æ£€æŸ¥ç¬¬ä¸‰æ–¹åº“ç±»å‹**
   - æ˜¯å¦æœ‰ç°æˆçš„åº“ç±»å‹å¯ä»¥æ‰©å±•
   - é¿å…é‡å¤å®šä¹‰å·²æœ‰çš„æ ‡å‡†ç±»å‹

### 2. ç±»å‹å‘½åå’Œç»„ç»‡è§„èŒƒ

#### ç›®å½•ç»“æ„
```
src/types/
â”œâ”€â”€ index.ts           # ç»Ÿä¸€å¯¼å‡º
â”œâ”€â”€ account/           # è´¦æˆ·ç›¸å…³
â”œâ”€â”€ planet/            # æ˜Ÿçƒç›¸å…³
â”œâ”€â”€ game/              # æ¸¸æˆé€»è¾‘
â”œâ”€â”€ ui/                # UI ç»„ä»¶ç±»å‹
â””â”€â”€ api/               # API å“åº”ç±»å‹
```

#### å‘½åè§„èŒƒ
- **æ¥å£**: PascalCaseï¼Œæè¿°æ€§åç§°
- **ç±»å‹åˆ«å**: PascalCase + Type åç¼€
- **æšä¸¾**: PascalCase + Enum åç¼€

### 3. ç±»å‹å…¼å®¹æ€§ç­–ç•¥

#### æ ‡å‡†ç±»å‹ vs ç»„ä»¶ç‰¹å®šç±»å‹

**æ ‡å‡†ç±»å‹** (`src/types/planet/index.ts`):
```typescript
interface Planet {
  id: string
  name: string
  createdBy: number
  x: number
  y: number
  size: number
  // ... å®Œæ•´çš„ä¸šåŠ¡å­—æ®µ
}
```

**ç»„ä»¶é€‚é…ç±»å‹** (`src/hooks/useUniverseCanvas.ts`):
```typescript
// ä½¿ç”¨é€‚é…å™¨æ¨¡å¼
type CanvasPlanet = Pick<Planet, 'id' | 'name' | 'x' | 'y'> & {
  radius: number // æ˜ å°„ size -> radius
  color: string // UI ç‰¹æœ‰å±æ€§
  rating?: number // è®¡ç®—å±æ€§ï¼šåŸºäº likes/dislikes
}
```

## å®æ–½è§„åˆ™

### å¼ºåˆ¶æ£€æŸ¥æµç¨‹

1. **æ–°ç±»å‹åˆ›å»ºå‰**ï¼š
   - [ ] æœç´¢ç°æœ‰ç±»å‹
   - [ ] æ£€æŸ¥æ˜¯å¦å¯å¤ç”¨
   - [ ] è¯„ä¼°æ˜¯å¦éœ€è¦é€‚é…å™¨

2. **ç±»å‹è®¾è®¡æ—¶**ï¼š
   - [ ] ä¼˜å…ˆæ‰©å±•ç°æœ‰ç±»å‹
   - [ ] ä½¿ç”¨ Pick/Omit åˆ›å»ºå­é›†
   - [ ] æ˜ç¡®æ ‡æ³¨é€‚é…å…³ç³»

3. **Code Review æ£€æŸ¥**ï¼š
   - [ ] æ˜¯å¦é‡å¤å®šä¹‰
   - [ ] æ˜¯å¦æ­£ç¡®å¼•ç”¨æ ‡å‡†ç±»å‹
   - [ ] é€‚é…å™¨æ˜¯å¦å¿…è¦

### é€‚é…å™¨æ¨¡å¼åº”ç”¨

#### ä½•æ—¶ä½¿ç”¨é€‚é…å™¨
- æ ‡å‡†ç±»å‹å­—æ®µåä¸ç»„ä»¶éœ€æ±‚ä¸åŒ¹é…
- éœ€è¦æ·»åŠ  UI ç‰¹æœ‰å±æ€§
- éœ€è¦è®¡ç®—å±æ€§æˆ–æ´¾ç”Ÿå­—æ®µ

#### é€‚é…å™¨å®ç°æ¨¡å¼
```typescript
// 1. å­—æ®µæ˜ å°„
type UIPlanet = Omit<Planet, 'size'> & {
  radius: number // size -> radius
}

// 2. æ·»åŠ  UI å±æ€§
type CanvasPlanet = Pick<Planet, 'id' | 'name' | 'x' | 'y'> & {
  radius: number
  color: string
  owner?: string
}

// 3. è®¡ç®—å±æ€§
type PlanetWithRating = Planet & {
  rating: number // åŸºäº likes/dislikes è®¡ç®—
}
```

## é‡æ„æŒ‡å¯¼

### å½“å‰éœ€è¦é‡æ„çš„æ–‡ä»¶
- `src/hooks/useUniverseCanvas.ts` - æ˜Ÿçƒç±»å‹é€‚é…

### é‡æ„æ­¥éª¤
1. å¯¼å…¥æ ‡å‡† Planet ç±»å‹
2. åˆ›å»ºé€‚é…å™¨ç±»å‹
3. æ›´æ–°æ•°æ®è½¬æ¢é€»è¾‘
4. æ·»åŠ ç±»å‹æ–‡æ¡£

### é•¿æœŸç›®æ ‡
- æ‰€æœ‰ç»„ä»¶ä¼˜å…ˆä½¿ç”¨æ ‡å‡†ç±»å‹
- å»ºç«‹å®Œæ•´çš„ç±»å‹é€‚é…å™¨åº“
- è‡ªåŠ¨åŒ–ç±»å‹ä¸€è‡´æ€§æ£€æŸ¥

---

**éµå¾ªè¿™äº›è§„åˆ™å°†ç¡®ä¿ç±»å‹ç³»ç»Ÿçš„ä¸€è‡´æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚**
